Index: parce_rbk_new.ipynb
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{\r\n \"cells\": [\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": 10,\r\n   \"outputs\": [],\r\n   \"source\": [\r\n    \"# Импорт библиотек\\n\",\r\n    \"import requests as rq\\n\",\r\n    \"from bs4 import BeautifulSoup as bs\\n\",\r\n    \"import pandas as pd\\n\",\r\n    \"import numpy as np\\n\",\r\n    \"from datetime import datetime, timedelta\\n\",\r\n    \"from IPython import display\\n\",\r\n    \"import json\"\r\n   ],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": 35,\r\n   \"outputs\": [\r\n    {\r\n     \"name\": \"stdout\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"1\\n\"\r\n     ]\r\n    }\r\n   ],\r\n   \"source\": [\r\n    \"class rbc_parser:\\n\",\r\n    \"    def __init__(self):\\n\",\r\n    \"        pass\\n\",\r\n    \"\\n\",\r\n    \"\\n\",\r\n    \"    def _get_url(self, param_dict: dict) -> str:\\n\",\r\n    \"        \\\"\\\"\\\"\\n\",\r\n    \"        Возвращает URL для запроса json таблицы со статьями\\n\",\r\n    \"        \\\"\\\"\\\"\\n\",\r\n    \"        url = 'https://www.rbc.ru/v10/search/ajax/?\\\\\\n\",\r\n    \"        project={0}&\\\\\\n\",\r\n    \"        category={1}&\\\\\\n\",\r\n    \"        dateFrom={2}&\\\\\\n\",\r\n    \"        dateTo={3}&\\\\\\n\",\r\n    \"        offset={4}&\\\\\\n\",\r\n    \"        limit={5}&\\\\\\n\",\r\n    \"        query={6}&\\\\\\n\",\r\n    \"        material={7}'.format(param_dict['project'],\\n\",\r\n    \"                             param_dict['category'],\\n\",\r\n    \"                             param_dict['dateFrom'],\\n\",\r\n    \"                             param_dict['dateTo'],\\n\",\r\n    \"                             param_dict['offset'],\\n\",\r\n    \"                             param_dict['limit'],\\n\",\r\n    \"                             param_dict['query'],\\n\",\r\n    \"                             param_dict['material'])\\n\",\r\n    \"\\n\",\r\n    \"        return url\\n\",\r\n    \"\\n\",\r\n    \"\\n\",\r\n    \"    def _get_search_table(self, param_dict: dict,\\n\",\r\n    \"                          includeText: bool = True) -> pd.DataFrame:\\n\",\r\n    \"        \\\"\\\"\\\"\\n\",\r\n    \"        Возвращает pd.DataFrame со списком статей\\n\",\r\n    \"\\n\",\r\n    \"        includeText: bool\\n\",\r\n    \"        ### Если True, статьи возвращаются с текстами\\n\",\r\n    \"        \\\"\\\"\\\"\\n\",\r\n    \"        url = self._get_url(param_dict)\\n\",\r\n    \"        r = rq.get(url)\\n\",\r\n    \"        search_table = pd.DataFrame(r.json()['items'])\\n\",\r\n    \"        if includeText and not search_table.empty:\\n\",\r\n    \"            get_text = lambda x: self._get_article_data(x['fronturl'])\\n\",\r\n    \"            search_table[['overview', 'text']] = search_table.apply(get_text,\\n\",\r\n    \"                                                                    axis=1).tolist()\\n\",\r\n    \"\\n\",\r\n    \"        return search_table.sort_values('publish_date_t', ignore_index=True)\\n\",\r\n    \"\\n\",\r\n    \"\\n\",\r\n    \"    def _get_article_data(self, url: str):\\n\",\r\n    \"        \\\"\\\"\\\"\\n\",\r\n    \"        Возвращает описание и текст статьи по ссылке\\n\",\r\n    \"        \\\"\\\"\\\"\\n\",\r\n    \"        r = rq.get(url)\\n\",\r\n    \"        soup = bs(r.text, features=\\\"lxml\\\") # features=\\\"lxml\\\" чтобы не было warning\\n\",\r\n    \"        div_overview = soup.find('div', {'class': 'article__text__overview'})\\n\",\r\n    \"        if div_overview:\\n\",\r\n    \"            overview = div_overview.text.replace('<br />','\\\\n').strip()\\n\",\r\n    \"        else:\\n\",\r\n    \"            overview = None\\n\",\r\n    \"        p_text = soup.find_all('p')\\n\",\r\n    \"        if p_text:\\n\",\r\n    \"            text = ' '.join(map(lambda x:\\n\",\r\n    \"                                x.text.replace('<br />','\\\\n').strip(),\\n\",\r\n    \"                                p_text))\\n\",\r\n    \"        else:\\n\",\r\n    \"            text = None\\n\",\r\n    \"\\n\",\r\n    \"        return overview, text\\n\",\r\n    \"\\n\",\r\n    \"    def get_articles(self,\\n\",\r\n    \"                     param_dict,\\n\",\r\n    \"                     time_step = 7,\\n\",\r\n    \"                     save_every = 5,\\n\",\r\n    \"                     save_excel = True) -> pd.DataFrame:\\n\",\r\n    \"        print(\\\"inited\\\")\\n\",\r\n    \"        \\\"\\\"\\\"\\n\",\r\n    \"        Функция для скачивания статей интервалами через каждые time_step дней\\n\",\r\n    \"        Делает сохранение таблицы через каждые save_every * time_step дней\\n\",\r\n    \"\\n\",\r\n    \"        param_dict: dict\\n\",\r\n    \"        ### Параметры запроса\\n\",\r\n    \"        ###### project - раздел поиска, например, rbcnews\\n\",\r\n    \"        ###### category - категория поиска, например, TopRbcRu_economics\\n\",\r\n    \"        ###### dateFrom - с даты\\n\",\r\n    \"        ###### dateTo - по дату\\n\",\r\n    \"        ###### offset - смещение поисковой выдачи\\n\",\r\n    \"        ###### limit - лимит статей, максимум 100\\n\",\r\n    \"        ###### query - поисковой запрос (ключевое слово), например, РБК\\n\",\r\n    \"\\n\",\r\n    \"        \\\"\\\"\\\"\\n\",\r\n    \"        param_copy = param_dict.copy()\\n\",\r\n    \"        time_step = timedelta(days=time_step)\\n\",\r\n    \"        dateFrom = datetime.strptime(param_copy['dateFrom'], '%d.%m.%Y')\\n\",\r\n    \"        dateTo = datetime.strptime(param_copy['dateTo'], '%d.%m.%Y')\\n\",\r\n    \"        if dateFrom > dateTo:\\n\",\r\n    \"            raise ValueError('dateFrom should be less than dateTo')\\n\",\r\n    \"\\n\",\r\n    \"        out = pd.DataFrame()\\n\",\r\n    \"        save_counter = 0\\n\",\r\n    \"        print(\\\"parse rdy\\\")\\n\",\r\n    \"        while dateFrom <= dateTo:\\n\",\r\n    \"            param_copy['dateTo'] = (dateFrom + time_step).strftime(\\\"%d.%m.%Y\\\")\\n\",\r\n    \"            if dateFrom + time_step > dateTo:\\n\",\r\n    \"                param_copy['dateTo'] = dateTo.strftime(\\\"%d.%m.%Y\\\")\\n\",\r\n    \"            print('Parsing articles from ' + param_copy['dateFrom'] +  ' to ' + param_copy['dateTo'])\\n\",\r\n    \"            out = out.append(self._get_search_table(param_copy), ignore_index=True)\\n\",\r\n    \"            dateFrom += time_step + timedelta(days=1)\\n\",\r\n    \"            param_copy['dateFrom'] = dateFrom.strftime(\\\"%d.%m.%Y\\\")\\n\",\r\n    \"            save_counter += 1\\n\",\r\n    \"            if save_counter == save_every:\\n\",\r\n    \"                display.clear_output(wait=True)\\n\",\r\n    \"                out.to_excel(\\\"checkpoint_table{}.xlsx\\\".format(save_counter))\\n\",\r\n    \"                print('Checkpoint saved!')\\n\",\r\n    \"                save_counter = 0\\n\",\r\n    \"        with open(\\\"rbc_{}_{}.json\\\".format(param_dict['dateFrom'],param_dict['dateTo']), 'w', encoding='utf-8') as file:\\n\",\r\n    \"            out.to_json(file, orient='records', lines=True, force_ascii=False)\\n\",\r\n    \"        if save_excel:\\n\",\r\n    \"            out.to_excel(\\\"rbc_{}_{}.xlsx\\\".format(\\n\",\r\n    \"                param_dict['dateFrom'],\\n\",\r\n    \"                param_dict['dateTo']))\\n\",\r\n    \"\\n\",\r\n    \"\\n\",\r\n    \"        print('Finish')\\n\",\r\n    \"\\n\",\r\n    \"        return out\\n\",\r\n    \"print(1)\"\r\n   ],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": 33,\r\n   \"outputs\": [\r\n    {\r\n     \"name\": \"stdout\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"РБК - param_dict: {'query': 'РБК', 'project': 'rbcnews', 'category': 'TopRbcRu_economics', 'dateFrom': '01.09.2022', 'dateTo': '07.10.2022', 'offset': '0', 'limit': '100', 'material': ''}\\n\"\r\n     ]\r\n    }\r\n   ],\r\n   \"source\": [\r\n    \"# Задаем параметры запросы и складываем в param_dict\\n\",\r\n    \"use_parser = \\\"РБК\\\"\\n\",\r\n    \"\\n\",\r\n    \"query = 'РБК'\\n\",\r\n    \"project = \\\"rbcnews\\\"\\n\",\r\n    \"category = \\\"TopRbcRu_economics\\\"\\n\",\r\n    \"material = \\\"\\\"\\n\",\r\n    \"dateFrom = '2022-09-01'\\n\",\r\n    \"dateTo = \\\"2022-10-07\\\"\\n\",\r\n    \"offset = 0\\n\",\r\n    \"limit = 100\\n\",\r\n    \"\\n\",\r\n    \"if use_parser == \\\"РБК\\\":\\n\",\r\n    \"    param_dict = {'query'   : query,\\n\",\r\n    \"                  'project' : project,\\n\",\r\n    \"                  'category': category,\\n\",\r\n    \"                  'dateFrom': datetime.\\n\",\r\n    \"                  strptime(dateFrom, '%Y-%m-%d').\\n\",\r\n    \"                  strftime('%d.%m.%Y'),\\n\",\r\n    \"                  'dateTo'  : datetime.\\n\",\r\n    \"                  strptime(dateTo, '%Y-%m-%d').\\n\",\r\n    \"                  strftime('%d.%m.%Y'),\\n\",\r\n    \"                  'offset'  : str(offset),\\n\",\r\n    \"                  'limit'   : str(limit),\\n\",\r\n    \"                  'material': material}\\n\",\r\n    \"\\n\",\r\n    \"print(use_parser, \\\"- param_dict:\\\", param_dict)\"\r\n   ],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": 34,\r\n   \"outputs\": [\r\n    {\r\n     \"name\": \"stdout\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"Checkpoint saved!\\n\",\r\n      \"Parsing articles from 01.10.2022 to 02.10.2022\\n\"\r\n     ]\r\n    },\r\n    {\r\n     \"name\": \"stderr\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"C:\\\\Users\\\\дом.DESKTOP-A3U9TO1\\\\AppData\\\\Local\\\\Temp\\\\ipykernel_10068\\\\2846183737.py:106: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\\n\",\r\n      \"  out = out.append(self._get_search_table(param_copy), ignore_index=True)\\n\"\r\n     ]\r\n    },\r\n    {\r\n     \"name\": \"stdout\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"Parsing articles from 03.10.2022 to 04.10.2022\\n\"\r\n     ]\r\n    },\r\n    {\r\n     \"name\": \"stderr\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"C:\\\\Users\\\\дом.DESKTOP-A3U9TO1\\\\AppData\\\\Local\\\\Temp\\\\ipykernel_10068\\\\2846183737.py:106: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\\n\",\r\n      \"  out = out.append(self._get_search_table(param_copy), ignore_index=True)\\n\"\r\n     ]\r\n    },\r\n    {\r\n     \"name\": \"stdout\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"Parsing articles from 05.10.2022 to 06.10.2022\\n\"\r\n     ]\r\n    },\r\n    {\r\n     \"name\": \"stderr\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"C:\\\\Users\\\\дом.DESKTOP-A3U9TO1\\\\AppData\\\\Local\\\\Temp\\\\ipykernel_10068\\\\2846183737.py:106: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\\n\",\r\n      \"  out = out.append(self._get_search_table(param_copy), ignore_index=True)\\n\"\r\n     ]\r\n    },\r\n    {\r\n     \"name\": \"stdout\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"Parsing articles from 07.10.2022 to 07.10.2022\\n\",\r\n      \"Finish\\n\",\r\n      \"190\\n\"\r\n     ]\r\n    },\r\n    {\r\n     \"name\": \"stderr\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"C:\\\\Users\\\\дом.DESKTOP-A3U9TO1\\\\AppData\\\\Local\\\\Temp\\\\ipykernel_10068\\\\2846183737.py:106: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\\n\",\r\n      \"  out = out.append(self._get_search_table(param_copy), ignore_index=True)\\n\"\r\n     ]\r\n    },\r\n    {\r\n     \"data\": {\r\n      \"text/plain\": \"                         id  \\\\\\n0  634139269a79479a6431ead3   \\n1  634135339a794798e76ecd97   \\n2  63413f8e9a79479c4c7a4180   \\n3  634140be9a79479c4c7a4188   \\n4  63413dd09a79479c1e5e3e6f   \\n\\n                                                           fronturl  \\\\\\n0   https://www.rbc.ru/business/08/10/2022/634139269a79479a6431ead3   \\n1  https://www.rbc.ru/economics/08/10/2022/634135339a794798e76ecd97   \\n2        https://ufa.rbc.ru/ufa/08/10/2022/63413f8e9a79479c4c7a4180   \\n3  https://www.rbc.ru/economics/08/10/2022/634140be9a79479c4c7a4188   \\n4   https://www.rbc.ru/politics/08/10/2022/63413dd09a79479c1e5e3e6f   \\n\\n   publish_date_t                     publish_date  \\\\\\n0      1665219754  Sat, 08 Oct 2022 12:02:34 +0300   \\n1      1665220263  Sat, 08 Oct 2022 12:11:03 +0300   \\n2      1665220592  Sat, 08 Oct 2022 12:16:32 +0300   \\n3      1665220947  Sat, 08 Oct 2022 12:22:27 +0300   \\n4      1665220952  Sat, 08 Oct 2022 12:22:32 +0300   \\n\\n                                                                       title  \\\\\\n0                 Туроператоры оценили возможное количество туристов в Крыму   \\n1            Севастополь вслед за Крымом ввел ограничение на продажу бакалеи   \\n2  «Уфаводоканал» проиграл еще одно дело против пивоваренной компании «Эфес»   \\n3   Министр заявил, что запустить паромы в Крым в субботу не позволит погода   \\n4   Губернатор сообщил о втором за день обстреле села в Белгородской области   \\n\\n                                                                                       photo  \\\\\\n0  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/5/18/756652196781185.jpg'}   \\n1  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/48/756652181483489.jpg'}   \\n2  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/03/756652205679039.jpg'}   \\n3  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/81/756652212312819.jpg'}   \\n4  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/4/01/756652205617014.jpg'}   \\n\\n  project   category opinion_authors             authors  \\\\\\n0    None     Бизнес            None                None   \\n1    None  Экономика            None  [Полина Мартынова]   \\n2    None       None            None  [Наиль Байназаров]   \\n3    None  Экономика            None  [Полина Мартынова]   \\n4    None   Политика            None  [Полина Мартынова]   \\n\\n                                                                                                                                                                                                     anons  \\\\\\n0   ...  в ближайшие дни должно заехать», — сказал он (цитата по ТАСС). [ <b>РБК</b> ] Взрыв и обрушение пролетов на Крымском мосту. Что известно к ...  отдыха», сообщила в своем телеграмм-канале гла...   \\n1                                                    ... , подсолнечного масла — на 46, а мясных консервов — на 106 дней. [ <b>РБК</b> ] Взрыв и обрушение пролетов на Крымском мосту. Что известно к ...    \\n2   ...  и он встал на сторону «АБ Инбев Эфес». Как сообщал <b>РБК</b> Уфа, «Уфаводоканал» пытается взыскать с пивоваренного завода «Эфес» в Уфе ...  сверх нормативов. Следите за деловыми новостями р...   \\n3                        ... , чтобы организовать регулярное паромное сообщение сегодня», — сказал и.о. министра. [ <b>РБК</b> ] Страховщики оценили стоимость ущерба из-за подрыва на Крымском мосту ...    \\n4                              ...  селу Бирюч Валуйского городского округа. Там пострадала 16-летняя девушка. [ <b>РБК</b> ] ВСУ обстреляли село в Белгородской области После начала спецоперации на ...    \\n\\n                                                                                                                                                                                                  overview  \\\\\\n0  В общей сложности в Крыму сейчас находится до 50 тыс. туристов, считают в ассоциации туроператоров. Власти региона призвали гостиницы продлить им время проживания, а в Ростуризме посоветовали пере...   \\n1  В Севастополе после взрыва на Крымском мосту и остановки сообщения ограничили отпуск бакалейных товаров до 3 кг или пачек в одни руки, чтобы избежать ажиотажа. Власти заверили, что в регионе пробл...   \\n2                                                                        Это дело имеет принципиальное значение для исхода других споров между ресурсоснабжающей организацией и пивоваренным заводом в Уфе   \\n3                                                                                            Однако позднее глава крымского минтранса Николай Лукашенко заявил, что это будет возможно, суда уже тестируют   \\n4                                                                                       Вслед за селом Бирюч Валуйского округа обстреляно село Тишанка Волоконовского района. Пострадавших на этот раз нет   \\n\\n                                                                                                                                                                                                      text  \\n0  В Крыму сейчас может находиться порядка 50 тыс. туристов. Об этом говорится в сообщении Ассоциации туроператоров России. «Туроператоры и органы власти ведут их подсчет. Более точные данные о колич...  \\n1  В Севастополе ограничили отпуск бакалейной продукции до 3 кг или пачек в одни руки, чтобы избежать ажиотажа на фоне проблем с сообщением с материковой частью России в связи с повреждением Крымског...  \\n2  Арбитражный суд Уральского округа оставил в силе решение 18-го арбитражного апелляционного суда, который отказал «Уфаводоканалу» в удовлетворении иска к АО «АБ Инбев Эфес». Ресурсоснабжающая компа...  \\n3  Запустить паромы в Крым в субботу не получится из-за погодных условий. Об этом заявил и.о. министра транспорта региона Николай Лукашенко. «Погода сегодня не позволяет вообще ничего», — заявил он. ...  \\n4  Под обстрел попало село Тишанка Волоконовского района, пострадавших нет, сообщил глава Белгородской области Вячеслав Гладков. «Осколками повреждены два легковых автомобиля работников зерновой комп...  \",\r\n      \"text/html\": \"<div>\\n<style scoped>\\n    .dataframe tbody tr th:only-of-type {\\n        vertical-align: middle;\\n    }\\n\\n    .dataframe tbody tr th {\\n        vertical-align: top;\\n    }\\n\\n    .dataframe thead th {\\n        text-align: right;\\n    }\\n</style>\\n<table border=\\\"1\\\" class=\\\"dataframe\\\">\\n  <thead>\\n    <tr style=\\\"text-align: right;\\\">\\n      <th></th>\\n      <th>id</th>\\n      <th>fronturl</th>\\n      <th>publish_date_t</th>\\n      <th>publish_date</th>\\n      <th>title</th>\\n      <th>photo</th>\\n      <th>project</th>\\n      <th>category</th>\\n      <th>opinion_authors</th>\\n      <th>authors</th>\\n      <th>anons</th>\\n      <th>overview</th>\\n      <th>text</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr>\\n      <th>0</th>\\n      <td>634139269a79479a6431ead3</td>\\n      <td>https://www.rbc.ru/business/08/10/2022/634139269a79479a6431ead3</td>\\n      <td>1665219754</td>\\n      <td>Sat, 08 Oct 2022 12:02:34 +0300</td>\\n      <td>Туроператоры оценили возможное количество туристов в Крыму</td>\\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/5/18/756652196781185.jpg'}</td>\\n      <td>None</td>\\n      <td>Бизнес</td>\\n      <td>None</td>\\n      <td>None</td>\\n      <td>...  в ближайшие дни должно заехать», — сказал он (цитата по ТАСС). [ &lt;b&gt;РБК&lt;/b&gt; ] Взрыв и обрушение пролетов на Крымском мосту. Что известно к ...  отдыха», сообщила в своем телеграмм-канале гла...</td>\\n      <td>В общей сложности в Крыму сейчас находится до 50 тыс. туристов, считают в ассоциации туроператоров. Власти региона призвали гостиницы продлить им время проживания, а в Ростуризме посоветовали пере...</td>\\n      <td>В Крыму сейчас может находиться порядка 50 тыс. туристов. Об этом говорится в сообщении Ассоциации туроператоров России. «Туроператоры и органы власти ведут их подсчет. Более точные данные о колич...</td>\\n    </tr>\\n    <tr>\\n      <th>1</th>\\n      <td>634135339a794798e76ecd97</td>\\n      <td>https://www.rbc.ru/economics/08/10/2022/634135339a794798e76ecd97</td>\\n      <td>1665220263</td>\\n      <td>Sat, 08 Oct 2022 12:11:03 +0300</td>\\n      <td>Севастополь вслед за Крымом ввел ограничение на продажу бакалеи</td>\\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/48/756652181483489.jpg'}</td>\\n      <td>None</td>\\n      <td>Экономика</td>\\n      <td>None</td>\\n      <td>[Полина Мартынова]</td>\\n      <td>... , подсолнечного масла — на 46, а мясных консервов — на 106 дней. [ &lt;b&gt;РБК&lt;/b&gt; ] Взрыв и обрушение пролетов на Крымском мосту. Что известно к ...</td>\\n      <td>В Севастополе после взрыва на Крымском мосту и остановки сообщения ограничили отпуск бакалейных товаров до 3 кг или пачек в одни руки, чтобы избежать ажиотажа. Власти заверили, что в регионе пробл...</td>\\n      <td>В Севастополе ограничили отпуск бакалейной продукции до 3 кг или пачек в одни руки, чтобы избежать ажиотажа на фоне проблем с сообщением с материковой частью России в связи с повреждением Крымског...</td>\\n    </tr>\\n    <tr>\\n      <th>2</th>\\n      <td>63413f8e9a79479c4c7a4180</td>\\n      <td>https://ufa.rbc.ru/ufa/08/10/2022/63413f8e9a79479c4c7a4180</td>\\n      <td>1665220592</td>\\n      <td>Sat, 08 Oct 2022 12:16:32 +0300</td>\\n      <td>«Уфаводоканал» проиграл еще одно дело против пивоваренной компании «Эфес»</td>\\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/03/756652205679039.jpg'}</td>\\n      <td>None</td>\\n      <td>None</td>\\n      <td>None</td>\\n      <td>[Наиль Байназаров]</td>\\n      <td>...  и он встал на сторону «АБ Инбев Эфес». Как сообщал &lt;b&gt;РБК&lt;/b&gt; Уфа, «Уфаводоканал» пытается взыскать с пивоваренного завода «Эфес» в Уфе ...  сверх нормативов. Следите за деловыми новостями р...</td>\\n      <td>Это дело имеет принципиальное значение для исхода других споров между ресурсоснабжающей организацией и пивоваренным заводом в Уфе</td>\\n      <td>Арбитражный суд Уральского округа оставил в силе решение 18-го арбитражного апелляционного суда, который отказал «Уфаводоканалу» в удовлетворении иска к АО «АБ Инбев Эфес». Ресурсоснабжающая компа...</td>\\n    </tr>\\n    <tr>\\n      <th>3</th>\\n      <td>634140be9a79479c4c7a4188</td>\\n      <td>https://www.rbc.ru/economics/08/10/2022/634140be9a79479c4c7a4188</td>\\n      <td>1665220947</td>\\n      <td>Sat, 08 Oct 2022 12:22:27 +0300</td>\\n      <td>Министр заявил, что запустить паромы в Крым в субботу не позволит погода</td>\\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/81/756652212312819.jpg'}</td>\\n      <td>None</td>\\n      <td>Экономика</td>\\n      <td>None</td>\\n      <td>[Полина Мартынова]</td>\\n      <td>... , чтобы организовать регулярное паромное сообщение сегодня», — сказал и.о. министра. [ &lt;b&gt;РБК&lt;/b&gt; ] Страховщики оценили стоимость ущерба из-за подрыва на Крымском мосту ...</td>\\n      <td>Однако позднее глава крымского минтранса Николай Лукашенко заявил, что это будет возможно, суда уже тестируют</td>\\n      <td>Запустить паромы в Крым в субботу не получится из-за погодных условий. Об этом заявил и.о. министра транспорта региона Николай Лукашенко. «Погода сегодня не позволяет вообще ничего», — заявил он. ...</td>\\n    </tr>\\n    <tr>\\n      <th>4</th>\\n      <td>63413dd09a79479c1e5e3e6f</td>\\n      <td>https://www.rbc.ru/politics/08/10/2022/63413dd09a79479c1e5e3e6f</td>\\n      <td>1665220952</td>\\n      <td>Sat, 08 Oct 2022 12:22:32 +0300</td>\\n      <td>Губернатор сообщил о втором за день обстреле села в Белгородской области</td>\\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/4/01/756652205617014.jpg'}</td>\\n      <td>None</td>\\n      <td>Политика</td>\\n      <td>None</td>\\n      <td>[Полина Мартынова]</td>\\n      <td>...  селу Бирюч Валуйского городского округа. Там пострадала 16-летняя девушка. [ &lt;b&gt;РБК&lt;/b&gt; ] ВСУ обстреляли село в Белгородской области После начала спецоперации на ...</td>\\n      <td>Вслед за селом Бирюч Валуйского округа обстреляно село Тишанка Волоконовского района. Пострадавших на этот раз нет</td>\\n      <td>Под обстрел попало село Тишанка Волоконовского района, пострадавших нет, сообщил глава Белгородской области Вячеслав Гладков. «Осколками повреждены два легковых автомобиля работников зерновой комп...</td>\\n    </tr>\\n  </tbody>\\n</table>\\n</div>\"\r\n     },\r\n     \"execution_count\": 34,\r\n     \"metadata\": {},\r\n     \"output_type\": \"execute_result\"\r\n    }\r\n   ],\r\n   \"source\": [\r\n    \"# Пример того, как выглядит json таблица запроса по параметрам.\\n\",\r\n    \"# Действует ограничение в 100 статей на 1 запрос (параметром limit)\\n\",\r\n    \"assert use_parser == \\\"РБК\\\"\\n\",\r\n    \"parser = rbc_parser()\\n\",\r\n    \"tbl = parser._get_search_table(param_dict,\\n\",\r\n    \"                               includeText = True) # Парсить текст статей\\n\",\r\n    \"print(len(tbl))\\n\",\r\n    \"tbl.head()\\n\",\r\n    \"# Пример работы программы итеративного сбора большого количества текстов статей\\n\",\r\n    \"# Работает, конечно, очень долго :(\\n\",\r\n    \"table = parser.get_articles(param_dict=param_dict,\\n\",\r\n    \"                            time_step = 1, # Шаг - 7 дней, можно больше,\\n\",\r\n    \"                            # но есть риск отсечения статей в неделях, гдестатей больше 100\\n\",\r\n    \"                            save_every = 5, # Сохранять чекпойнт каждые 5 шагов\\n\",\r\n    \"                            save_excel = False) # Сохранить итоговый файл\\n\",\r\n    \"print(len(table))\\n\",\r\n    \"table.head()\"\r\n   ],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": null,\r\n   \"outputs\": [],\r\n   \"source\": [],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": null,\r\n   \"outputs\": [],\r\n   \"source\": [],\r\n   \"metadata\": {\r\n    \"collapsed\": false,\r\n    \"pycharm\": {\r\n     \"is_executing\": true\r\n    }\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": null,\r\n   \"outputs\": [],\r\n   \"source\": [],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  }\r\n ],\r\n \"metadata\": {\r\n  \"kernelspec\": {\r\n   \"display_name\": \"Python 3\",\r\n   \"language\": \"python\",\r\n   \"name\": \"python3\"\r\n  },\r\n  \"language_info\": {\r\n   \"codemirror_mode\": {\r\n    \"name\": \"ipython\",\r\n    \"version\": 2\r\n   },\r\n   \"file_extension\": \".py\",\r\n   \"mimetype\": \"text/x-python\",\r\n   \"name\": \"python\",\r\n   \"nbconvert_exporter\": \"python\",\r\n   \"pygments_lexer\": \"ipython2\",\r\n   \"version\": \"2.7.6\"\r\n  }\r\n },\r\n \"nbformat\": 4,\r\n \"nbformat_minor\": 0\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/parce_rbk_new.ipynb b/parce_rbk_new.ipynb
--- a/parce_rbk_new.ipynb	
+++ b/parce_rbk_new.ipynb	
@@ -2,7 +2,7 @@
  "cells": [
   {
    "cell_type": "code",
-   "execution_count": 10,
+   "execution_count": null,
    "outputs": [],
    "source": [
     "# Импорт библиотек\n",
@@ -15,21 +15,16 @@
     "import json"
    ],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   },
   {
    "cell_type": "code",
-   "execution_count": 35,
-   "outputs": [
-    {
-     "name": "stdout",
-     "output_type": "stream",
-     "text": [
-      "1\n"
-     ]
-    }
-   ],
+   "execution_count": null,
+   "outputs": [],
    "source": [
     "class rbc_parser:\n",
     "    def __init__(self):\n",
@@ -159,21 +154,16 @@
     "print(1)"
    ],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   },
   {
    "cell_type": "code",
-   "execution_count": 33,
-   "outputs": [
-    {
-     "name": "stdout",
-     "output_type": "stream",
-     "text": [
-      "РБК - param_dict: {'query': 'РБК', 'project': 'rbcnews', 'category': 'TopRbcRu_economics', 'dateFrom': '01.09.2022', 'dateTo': '07.10.2022', 'offset': '0', 'limit': '100', 'material': ''}\n"
-     ]
-    }
-   ],
+   "execution_count": null,
+   "outputs": [],
    "source": [
     "# Задаем параметры запросы и складываем в param_dict\n",
     "use_parser = \"РБК\"\n",
@@ -204,86 +194,16 @@
     "print(use_parser, \"- param_dict:\", param_dict)"
    ],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   },
   {
    "cell_type": "code",
-   "execution_count": 34,
-   "outputs": [
-    {
-     "name": "stdout",
-     "output_type": "stream",
-     "text": [
-      "Checkpoint saved!\n",
-      "Parsing articles from 01.10.2022 to 02.10.2022\n"
-     ]
-    },
-    {
-     "name": "stderr",
-     "output_type": "stream",
-     "text": [
-      "C:\\Users\\дом.DESKTOP-A3U9TO1\\AppData\\Local\\Temp\\ipykernel_10068\\2846183737.py:106: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\n",
-      "  out = out.append(self._get_search_table(param_copy), ignore_index=True)\n"
-     ]
-    },
-    {
-     "name": "stdout",
-     "output_type": "stream",
-     "text": [
-      "Parsing articles from 03.10.2022 to 04.10.2022\n"
-     ]
-    },
-    {
-     "name": "stderr",
-     "output_type": "stream",
-     "text": [
-      "C:\\Users\\дом.DESKTOP-A3U9TO1\\AppData\\Local\\Temp\\ipykernel_10068\\2846183737.py:106: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\n",
-      "  out = out.append(self._get_search_table(param_copy), ignore_index=True)\n"
-     ]
-    },
-    {
-     "name": "stdout",
-     "output_type": "stream",
-     "text": [
-      "Parsing articles from 05.10.2022 to 06.10.2022\n"
-     ]
-    },
-    {
-     "name": "stderr",
-     "output_type": "stream",
-     "text": [
-      "C:\\Users\\дом.DESKTOP-A3U9TO1\\AppData\\Local\\Temp\\ipykernel_10068\\2846183737.py:106: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\n",
-      "  out = out.append(self._get_search_table(param_copy), ignore_index=True)\n"
-     ]
-    },
-    {
-     "name": "stdout",
-     "output_type": "stream",
-     "text": [
-      "Parsing articles from 07.10.2022 to 07.10.2022\n",
-      "Finish\n",
-      "190\n"
-     ]
-    },
-    {
-     "name": "stderr",
-     "output_type": "stream",
-     "text": [
-      "C:\\Users\\дом.DESKTOP-A3U9TO1\\AppData\\Local\\Temp\\ipykernel_10068\\2846183737.py:106: FutureWarning: The frame.append method is deprecated and will be removed from pandas in a future version. Use pandas.concat instead.\n",
-      "  out = out.append(self._get_search_table(param_copy), ignore_index=True)\n"
-     ]
-    },
-    {
-     "data": {
-      "text/plain": "                         id  \\\n0  634139269a79479a6431ead3   \n1  634135339a794798e76ecd97   \n2  63413f8e9a79479c4c7a4180   \n3  634140be9a79479c4c7a4188   \n4  63413dd09a79479c1e5e3e6f   \n\n                                                           fronturl  \\\n0   https://www.rbc.ru/business/08/10/2022/634139269a79479a6431ead3   \n1  https://www.rbc.ru/economics/08/10/2022/634135339a794798e76ecd97   \n2        https://ufa.rbc.ru/ufa/08/10/2022/63413f8e9a79479c4c7a4180   \n3  https://www.rbc.ru/economics/08/10/2022/634140be9a79479c4c7a4188   \n4   https://www.rbc.ru/politics/08/10/2022/63413dd09a79479c1e5e3e6f   \n\n   publish_date_t                     publish_date  \\\n0      1665219754  Sat, 08 Oct 2022 12:02:34 +0300   \n1      1665220263  Sat, 08 Oct 2022 12:11:03 +0300   \n2      1665220592  Sat, 08 Oct 2022 12:16:32 +0300   \n3      1665220947  Sat, 08 Oct 2022 12:22:27 +0300   \n4      1665220952  Sat, 08 Oct 2022 12:22:32 +0300   \n\n                                                                       title  \\\n0                 Туроператоры оценили возможное количество туристов в Крыму   \n1            Севастополь вслед за Крымом ввел ограничение на продажу бакалеи   \n2  «Уфаводоканал» проиграл еще одно дело против пивоваренной компании «Эфес»   \n3   Министр заявил, что запустить паромы в Крым в субботу не позволит погода   \n4   Губернатор сообщил о втором за день обстреле села в Белгородской области   \n\n                                                                                       photo  \\\n0  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/5/18/756652196781185.jpg'}   \n1  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/48/756652181483489.jpg'}   \n2  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/03/756652205679039.jpg'}   \n3  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/81/756652212312819.jpg'}   \n4  {'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/4/01/756652205617014.jpg'}   \n\n  project   category opinion_authors             authors  \\\n0    None     Бизнес            None                None   \n1    None  Экономика            None  [Полина Мартынова]   \n2    None       None            None  [Наиль Байназаров]   \n3    None  Экономика            None  [Полина Мартынова]   \n4    None   Политика            None  [Полина Мартынова]   \n\n                                                                                                                                                                                                     anons  \\\n0   ...  в ближайшие дни должно заехать», — сказал он (цитата по ТАСС). [ <b>РБК</b> ] Взрыв и обрушение пролетов на Крымском мосту. Что известно к ...  отдыха», сообщила в своем телеграмм-канале гла...   \n1                                                    ... , подсолнечного масла — на 46, а мясных консервов — на 106 дней. [ <b>РБК</b> ] Взрыв и обрушение пролетов на Крымском мосту. Что известно к ...    \n2   ...  и он встал на сторону «АБ Инбев Эфес». Как сообщал <b>РБК</b> Уфа, «Уфаводоканал» пытается взыскать с пивоваренного завода «Эфес» в Уфе ...  сверх нормативов. Следите за деловыми новостями р...   \n3                        ... , чтобы организовать регулярное паромное сообщение сегодня», — сказал и.о. министра. [ <b>РБК</b> ] Страховщики оценили стоимость ущерба из-за подрыва на Крымском мосту ...    \n4                              ...  селу Бирюч Валуйского городского округа. Там пострадала 16-летняя девушка. [ <b>РБК</b> ] ВСУ обстреляли село в Белгородской области После начала спецоперации на ...    \n\n                                                                                                                                                                                                  overview  \\\n0  В общей сложности в Крыму сейчас находится до 50 тыс. туристов, считают в ассоциации туроператоров. Власти региона призвали гостиницы продлить им время проживания, а в Ростуризме посоветовали пере...   \n1  В Севастополе после взрыва на Крымском мосту и остановки сообщения ограничили отпуск бакалейных товаров до 3 кг или пачек в одни руки, чтобы избежать ажиотажа. Власти заверили, что в регионе пробл...   \n2                                                                        Это дело имеет принципиальное значение для исхода других споров между ресурсоснабжающей организацией и пивоваренным заводом в Уфе   \n3                                                                                            Однако позднее глава крымского минтранса Николай Лукашенко заявил, что это будет возможно, суда уже тестируют   \n4                                                                                       Вслед за селом Бирюч Валуйского округа обстреляно село Тишанка Волоконовского района. Пострадавших на этот раз нет   \n\n                                                                                                                                                                                                      text  \n0  В Крыму сейчас может находиться порядка 50 тыс. туристов. Об этом говорится в сообщении Ассоциации туроператоров России. «Туроператоры и органы власти ведут их подсчет. Более точные данные о колич...  \n1  В Севастополе ограничили отпуск бакалейной продукции до 3 кг или пачек в одни руки, чтобы избежать ажиотажа на фоне проблем с сообщением с материковой частью России в связи с повреждением Крымског...  \n2  Арбитражный суд Уральского округа оставил в силе решение 18-го арбитражного апелляционного суда, который отказал «Уфаводоканалу» в удовлетворении иска к АО «АБ Инбев Эфес». Ресурсоснабжающая компа...  \n3  Запустить паромы в Крым в субботу не получится из-за погодных условий. Об этом заявил и.о. министра транспорта региона Николай Лукашенко. «Погода сегодня не позволяет вообще ничего», — заявил он. ...  \n4  Под обстрел попало село Тишанка Волоконовского района, пострадавших нет, сообщил глава Белгородской области Вячеслав Гладков. «Осколками повреждены два легковых автомобиля работников зерновой комп...  ",
-      "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>fronturl</th>\n      <th>publish_date_t</th>\n      <th>publish_date</th>\n      <th>title</th>\n      <th>photo</th>\n      <th>project</th>\n      <th>category</th>\n      <th>opinion_authors</th>\n      <th>authors</th>\n      <th>anons</th>\n      <th>overview</th>\n      <th>text</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>634139269a79479a6431ead3</td>\n      <td>https://www.rbc.ru/business/08/10/2022/634139269a79479a6431ead3</td>\n      <td>1665219754</td>\n      <td>Sat, 08 Oct 2022 12:02:34 +0300</td>\n      <td>Туроператоры оценили возможное количество туристов в Крыму</td>\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/5/18/756652196781185.jpg'}</td>\n      <td>None</td>\n      <td>Бизнес</td>\n      <td>None</td>\n      <td>None</td>\n      <td>...  в ближайшие дни должно заехать», — сказал он (цитата по ТАСС). [ &lt;b&gt;РБК&lt;/b&gt; ] Взрыв и обрушение пролетов на Крымском мосту. Что известно к ...  отдыха», сообщила в своем телеграмм-канале гла...</td>\n      <td>В общей сложности в Крыму сейчас находится до 50 тыс. туристов, считают в ассоциации туроператоров. Власти региона призвали гостиницы продлить им время проживания, а в Ростуризме посоветовали пере...</td>\n      <td>В Крыму сейчас может находиться порядка 50 тыс. туристов. Об этом говорится в сообщении Ассоциации туроператоров России. «Туроператоры и органы власти ведут их подсчет. Более точные данные о колич...</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>634135339a794798e76ecd97</td>\n      <td>https://www.rbc.ru/economics/08/10/2022/634135339a794798e76ecd97</td>\n      <td>1665220263</td>\n      <td>Sat, 08 Oct 2022 12:11:03 +0300</td>\n      <td>Севастополь вслед за Крымом ввел ограничение на продажу бакалеи</td>\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/48/756652181483489.jpg'}</td>\n      <td>None</td>\n      <td>Экономика</td>\n      <td>None</td>\n      <td>[Полина Мартынова]</td>\n      <td>... , подсолнечного масла — на 46, а мясных консервов — на 106 дней. [ &lt;b&gt;РБК&lt;/b&gt; ] Взрыв и обрушение пролетов на Крымском мосту. Что известно к ...</td>\n      <td>В Севастополе после взрыва на Крымском мосту и остановки сообщения ограничили отпуск бакалейных товаров до 3 кг или пачек в одни руки, чтобы избежать ажиотажа. Власти заверили, что в регионе пробл...</td>\n      <td>В Севастополе ограничили отпуск бакалейной продукции до 3 кг или пачек в одни руки, чтобы избежать ажиотажа на фоне проблем с сообщением с материковой частью России в связи с повреждением Крымског...</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>63413f8e9a79479c4c7a4180</td>\n      <td>https://ufa.rbc.ru/ufa/08/10/2022/63413f8e9a79479c4c7a4180</td>\n      <td>1665220592</td>\n      <td>Sat, 08 Oct 2022 12:16:32 +0300</td>\n      <td>«Уфаводоканал» проиграл еще одно дело против пивоваренной компании «Эфес»</td>\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/03/756652205679039.jpg'}</td>\n      <td>None</td>\n      <td>None</td>\n      <td>None</td>\n      <td>[Наиль Байназаров]</td>\n      <td>...  и он встал на сторону «АБ Инбев Эфес». Как сообщал &lt;b&gt;РБК&lt;/b&gt; Уфа, «Уфаводоканал» пытается взыскать с пивоваренного завода «Эфес» в Уфе ...  сверх нормативов. Следите за деловыми новостями р...</td>\n      <td>Это дело имеет принципиальное значение для исхода других споров между ресурсоснабжающей организацией и пивоваренным заводом в Уфе</td>\n      <td>Арбитражный суд Уральского округа оставил в силе решение 18-го арбитражного апелляционного суда, который отказал «Уфаводоканалу» в удовлетворении иска к АО «АБ Инбев Эфес». Ресурсоснабжающая компа...</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>634140be9a79479c4c7a4188</td>\n      <td>https://www.rbc.ru/economics/08/10/2022/634140be9a79479c4c7a4188</td>\n      <td>1665220947</td>\n      <td>Sat, 08 Oct 2022 12:22:27 +0300</td>\n      <td>Министр заявил, что запустить паромы в Крым в субботу не позволит погода</td>\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/9/81/756652212312819.jpg'}</td>\n      <td>None</td>\n      <td>Экономика</td>\n      <td>None</td>\n      <td>[Полина Мартынова]</td>\n      <td>... , чтобы организовать регулярное паромное сообщение сегодня», — сказал и.о. министра. [ &lt;b&gt;РБК&lt;/b&gt; ] Страховщики оценили стоимость ущерба из-за подрыва на Крымском мосту ...</td>\n      <td>Однако позднее глава крымского минтранса Николай Лукашенко заявил, что это будет возможно, суда уже тестируют</td>\n      <td>Запустить паромы в Крым в субботу не получится из-за погодных условий. Об этом заявил и.о. министра транспорта региона Николай Лукашенко. «Погода сегодня не позволяет вообще ничего», — заявил он. ...</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>63413dd09a79479c1e5e3e6f</td>\n      <td>https://www.rbc.ru/politics/08/10/2022/63413dd09a79479c1e5e3e6f</td>\n      <td>1665220952</td>\n      <td>Sat, 08 Oct 2022 12:22:32 +0300</td>\n      <td>Губернатор сообщил о втором за день обстреле села в Белгородской области</td>\n      <td>{'url': 'https://s0.rbk.ru/v6_top_pics/resized/250xH/media/img/4/01/756652205617014.jpg'}</td>\n      <td>None</td>\n      <td>Политика</td>\n      <td>None</td>\n      <td>[Полина Мартынова]</td>\n      <td>...  селу Бирюч Валуйского городского округа. Там пострадала 16-летняя девушка. [ &lt;b&gt;РБК&lt;/b&gt; ] ВСУ обстреляли село в Белгородской области После начала спецоперации на ...</td>\n      <td>Вслед за селом Бирюч Валуйского округа обстреляно село Тишанка Волоконовского района. Пострадавших на этот раз нет</td>\n      <td>Под обстрел попало село Тишанка Волоконовского района, пострадавших нет, сообщил глава Белгородской области Вячеслав Гладков. «Осколками повреждены два легковых автомобиля работников зерновой комп...</td>\n    </tr>\n  </tbody>\n</table>\n</div>"
-     },
-     "execution_count": 34,
-     "metadata": {},
-     "output_type": "execute_result"
-    }
-   ],
+   "execution_count": null,
+   "outputs": [],
    "source": [
     "# Пример того, как выглядит json таблица запроса по параметрам.\n",
     "# Действует ограничение в 100 статей на 1 запрос (параметром limit)\n",
@@ -304,7 +224,10 @@
     "table.head()"
    ],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   },
   {
@@ -313,7 +236,34 @@
    "outputs": [],
    "source": [],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
+   }
+  },
+  {
+   "cell_type": "code",
+   "execution_count": null,
+   "outputs": [],
+   "source": [],
+   "metadata": {
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
+   }
+  },
+  {
+   "cell_type": "code",
+   "execution_count": null,
+   "outputs": [],
+   "source": [],
+   "metadata": {
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   },
   {
@@ -359,4 +309,4 @@
  },
  "nbformat": 4,
  "nbformat_minor": 0
-}
+}
\ No newline at end of file
Index: parce_pro.ipynb
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{\r\n \"cells\": [\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": 2,\r\n   \"metadata\": {\r\n    \"collapsed\": true\r\n   },\r\n   \"outputs\": [],\r\n   \"source\": [\r\n    \"from selenium import webdriver\\n\",\r\n    \"import time\\n\",\r\n    \"from selenium.webdriver.common.keys import Keys\\n\",\r\n    \"from selenium.webdriver.common.by import By\\n\",\r\n    \"# -*- coding: utf-8 -*-\\n\",\r\n    \"import requests\\n\",\r\n    \"from bs4 import BeautifulSoup\\n\",\r\n    \"import json\\n\",\r\n    \"from selenium.webdriver.chrome.service import Service\\n\",\r\n    \"from webdriver_manager.chrome import ChromeDriverManager\"\r\n   ]\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": 14,\r\n   \"outputs\": [\r\n    {\r\n     \"name\": \"stderr\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"C:\\\\Users\\\\дом.DESKTOP-A3U9TO1\\\\AppData\\\\Local\\\\Temp\\\\ipykernel_13876\\\\2946590815.py:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\\n\",\r\n      \"  driver = webdriver.Chrome(executable_path=\\\"C:\\\\\\\\Users\\\\\\\\дом.DESKTOP-A3U9TO1\\\\\\\\DataspellProjects\\\\\\\\moretech_prokhodilimimo\\\\\\\\chromedriver\\\\\\\\chromedriver.exe\\\")\\n\"\r\n     ]\r\n    },\r\n    {\r\n     \"name\": \"stdout\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"1\\n\",\r\n      \"<selenium.webdriver.remote.webelement.WebElement (session=\\\"ea5337a860bb361bc27da374fe8906d3\\\", element=\\\"40344daf-919b-419b-b291-2833b652b286\\\")>\\n\"\r\n     ]\r\n    }\r\n   ],\r\n   \"source\": [\r\n    \"url = 'https://pro.rbc.ru/interest/finance'\\n\",\r\n    \"links = []\\n\",\r\n    \"driver = webdriver.Chrome(executable_path=\\\"C:\\\\\\\\Users\\\\\\\\дом.DESKTOP-A3U9TO1\\\\\\\\DataspellProjects\\\\\\\\moretech_prokhodilimimo\\\\\\\\chromedriver\\\\\\\\chromedriver.exe\\\")\\n\",\r\n    \"\\n\",\r\n    \"try:\\n\",\r\n    \"    driver.get(url=url)\\n\",\r\n    \"    time.sleep(1)\\n\",\r\n    \"    print(1)\\n\",\r\n    \"    elem = driver.find_element(By.TAG_NAME, \\\"body\\\")\\n\",\r\n    \"    print(elem)\\n\",\r\n    \"    no_of_pagedowns = 200\\n\",\r\n    \"    while no_of_pagedowns:\\n\",\r\n    \"        elem.send_keys(Keys.PAGE_DOWN)\\n\",\r\n    \"        time.sleep(0.2)\\n\",\r\n    \"        no_of_pagedowns-=1\\n\",\r\n    \"    html = driver.page_source\\n\",\r\n    \"\\n\",\r\n    \"    soup = BeautifulSoup(html, 'lxml')\\n\",\r\n    \"\\n\",\r\n    \"except Exception as e:\\n\",\r\n    \"    print(e)\\n\",\r\n    \"finally:\\n\",\r\n    \"    driver.close()\\n\",\r\n    \"    driver.quit()\\n\"\r\n   ],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": 19,\r\n   \"outputs\": [],\r\n   \"source\": [\r\n    \"news_links = soup.find_all('a', {'class' : ['item__link', ]})\"\r\n   ],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": 21,\r\n   \"outputs\": [\r\n    {\r\n     \"name\": \"stdout\",\r\n     \"output_type\": \"stream\",\r\n     \"text\": [\r\n      \"<div class=\\\"article g-relative js-rbcslider-article\\\">\\n\",\r\n      \"<div class=\\\"l-table\\\">\\n\",\r\n      \"<div class=\\\"l-col-main\\\" data-io-article-url=\\\"https://pro.rbc.ru/news/633c17b59a7947a5f193efd6\\\">\\n\",\r\n      \"<div class=\\\"l-col-center-590 article__content\\\">\\n\",\r\n      \"<div class=\\\"plashka-trial js-plashka-trial\\\" style=\\\"display: none;\\\">\\n\",\r\n      \"<a class=\\\"plashka-trial__button js-plashka-trial-button js-yandex-counter js-ga-counter\\\" data-ga-event=\\\"Button-Click on plate (mobile)\\\" data-mixpanel-link=\\\"Click on plate (mobile)\\\" data-yandex-name=\\\"Click on plate (mobile)\\\" href=\\\"/offers\\\">\\n\",\r\n      \"        Подписаться на Pro за 1 ₽\\n\",\r\n      \"    </a>\\n\",\r\n      \"</div> <div class=\\\"article__access\\\">\\n\",\r\n      \"<div class=\\\"article__access__left\\\">\\n\",\r\n      \"<span class=\\\"g-icon-section g-icon-section_rbcpro medium light\\\"></span>\\n\",\r\n      \"<div class=\\\"article__access__text\\\">Материал раздела <b>Основной</b></div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__access__right\\\">\\n\",\r\n      \"<div class=\\\"article__header__share-block js-social-toggle\\\">\\n\",\r\n      \"<div class=\\\"article__header__share-block__pseudo js-social-toggle-close\\\"></div>\\n\",\r\n      \"<div class=\\\"article__header__share-icon article__header__share-icon_main\\\">\\n\",\r\n      \"<span class=\\\"g-desktop-visible g-tablet-visible\\\">Поделиться</span>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__header__share\\\">\\n\",\r\n      \"<div class=\\\"article__header__share-icon\\\">Поделиться</div>\\n\",\r\n      \"<div class=\\\"social-likes social-likes_popup social-likes__activate-no\\\" data-counters=\\\"no\\\" data-title=\\\"Из бухгалтера — в стратега: как изменилась функция финансового директора\\\" data-url=\\\"https://pro.rbc.ru/news/633c17b59a7947a5f193efd6\\\">\\n\",\r\n      \"<div class=\\\"vkontakte\\\">Вконтакте</div>\\n\",\r\n      \"<div class=\\\"odnoklassniki\\\">Одноклассники</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__header js-article-header\\\">\\n\",\r\n      \"<div class=\\\"article__header__title\\\">\\n\",\r\n      \"<h1 class=\\\"article__header__title-in js-slide-title\\\" itemprop=\\\"headline\\\">\\n\",\r\n      \"                    Из бухгалтера — в стратега: как изменилась функция финансового директора\\n\",\r\n      \"\\n\",\r\n      \"                </h1>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"master-tags js-mp-click-tag-section js-master-tags\\\" data-nick=\\\"finance\\\">\\n\",\r\n      \"<a class=\\\"master-tags__master js-mp-click-tag-section-item\\\" data-tag-nick=\\\"Финансы\\\" data-tag-type=\\\"master_tag\\\" href=\\\"/interest/finance\\\">Финансы\\n\",\r\n      \"                                    &amp;nbsp ·\\n\",\r\n      \"                            </a>\\n\",\r\n      \"<a class=\\\"master-tags__channel js-mp-click-tag-section-item js-channel-tag\\\" data-channel-nick=\\\"Карьера\\\" data-tag-nick=\\\"Финансы\\\" data-tag-type=\\\"channel\\\" href=\\\"/channel/career\\\">Карьера</a>\\n\",\r\n      \"</div> <div class=\\\"article__tags-cloud\\\">\\n\",\r\n      \"<a class=\\\"article__tags-cloud__item\\\" href=\\\"https://pro.rbc.ru/tags/?tag=%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%86%D0%B8%D0%B8\\\">Инструкции</a>\\n\",\r\n      \"<a class=\\\"article__tags-cloud__item\\\" href=\\\"https://pro.rbc.ru/tags/?tag=Burger%20King%20Russia\\\">Burger King Russia</a>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__text\\\" itemprop=\\\"articleBody\\\">\\n\",\r\n      \"<div class=\\\"article__text__overview\\\">\\n\",\r\n      \"<span>Роль финансового директора в компаниях изменилась. В новой реальности они стали ключевыми фигурами бизнеса и решают сложные стратегические задачи, а прежние функции автоматизируются. Никита Айрапетов (Burger King Russia) — об изменениях и перспективах</span>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__main-image\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/ImageObject\\\">\\n\",\r\n      \"<div class=\\\"article__main-image__wrap\\\">\\n\",\r\n      \"<img alt=\\\"Фото: Toru Hanai / Reuters\\\" class=\\\"g-image article__main-image__image\\\" decoding=\\\"async\\\" height=\\\"1000\\\" itemprop=\\\"contentUrl\\\" sizes=\\\"(min-width: 640px) 590px, 100vw\\\" src=\\\"https://s0.rbk.ru/v6_top_pics/media/img/2/36/756651252500362.jpg\\\" srcset=\\\"https://s0.rbk.ru/v6_top_pics/resized/590xH/media/img/2/36/756651252500362.jpg 590w\\\" width=\\\"1615\\\"/>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__main-image__title\\\">\\n\",\r\n      \"<span class=\\\"article__main-image__author\\\">\\n\",\r\n      \"                                                    Фото: Toru Hanai / Reuters\\n\",\r\n      \"                                            </span>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__text__pro\\\">\\n\",\r\n      \"<p>Еще не так давно обязанности финансовых директоров были практически идентичны функциям бухгалтера. С усложнением механизмов работы современных компаний и стремительным развитием ИТ-индустрии роль CFO все больше меняется. И теперь она сосредоточена вокруг участия в разработке и реализации стратегии компании, нежели на узком финансовом функционале.</p>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"l-col-right\\\">\\n\",\r\n      \"<div class=\\\"l-col-right__inner\\\">\\n\",\r\n      \"<div class=\\\"l-col-100h-parent\\\">\\n\",\r\n      \"<div class=\\\"l-col-100h js-col-100h\\\" id=\\\"js_right_column\\\">\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article g-relative js-rbcslider-article\\\">\\n\",\r\n      \"<div class=\\\"l-table\\\">\\n\",\r\n      \"<div class=\\\"l-col-main\\\" data-io-article-url=\\\"https://pro.rbc.ru/news/6336cb4f9a7947e2dc47c218\\\">\\n\",\r\n      \"<div class=\\\"l-col-center-590 article__content\\\">\\n\",\r\n      \"<div class=\\\"plashka-trial js-plashka-trial\\\" style=\\\"display: none;\\\">\\n\",\r\n      \"<a class=\\\"plashka-trial__button js-plashka-trial-button js-yandex-counter js-ga-counter\\\" data-ga-event=\\\"Button-Click on plate (mobile)\\\" data-mixpanel-link=\\\"Click on plate (mobile)\\\" data-yandex-name=\\\"Click on plate (mobile)\\\" href=\\\"/offers\\\">\\n\",\r\n      \"        Подписаться на Pro за 1 ₽\\n\",\r\n      \"    </a>\\n\",\r\n      \"</div> <div class=\\\"article__access\\\">\\n\",\r\n      \"<div class=\\\"article__access__left\\\">\\n\",\r\n      \"<span class=\\\"g-icon-section g-icon-section_rbcpro medium light\\\"></span>\\n\",\r\n      \"<div class=\\\"article__access__text\\\">Материал раздела <b>Основной</b></div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__access__right\\\">\\n\",\r\n      \"<div class=\\\"article__header__share-block js-social-toggle\\\">\\n\",\r\n      \"<div class=\\\"article__header__share-block__pseudo js-social-toggle-close\\\"></div>\\n\",\r\n      \"<div class=\\\"article__header__share-icon article__header__share-icon_main\\\">\\n\",\r\n      \"<span class=\\\"g-desktop-visible g-tablet-visible\\\">Поделиться</span>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__header__share\\\">\\n\",\r\n      \"<div class=\\\"article__header__share-icon\\\">Поделиться</div>\\n\",\r\n      \"<div class=\\\"social-likes social-likes_popup social-likes__activate-no\\\" data-counters=\\\"no\\\" data-title=\\\"Как платить налоги и взносы с помощью единого налогового платежа\\\" data-url=\\\"https://pro.rbc.ru/news/6336cb4f9a7947e2dc47c218\\\">\\n\",\r\n      \"<div class=\\\"vkontakte\\\">Вконтакте</div>\\n\",\r\n      \"<div class=\\\"odnoklassniki\\\">Одноклассники</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__header js-article-header\\\">\\n\",\r\n      \"<div class=\\\"article__header__title\\\">\\n\",\r\n      \"<h1 class=\\\"article__header__title-in js-slide-title\\\" itemprop=\\\"headline\\\">\\n\",\r\n      \"                    Как платить налоги и взносы с помощью единого налогового платежа\\n\",\r\n      \"\\n\",\r\n      \"                </h1>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"master-tags js-mp-click-tag-section js-master-tags\\\" data-nick=\\\"finance\\\">\\n\",\r\n      \"<a class=\\\"master-tags__master js-mp-click-tag-section-item\\\" data-tag-nick=\\\"Финансы\\\" data-tag-type=\\\"master_tag\\\" href=\\\"/interest/finance\\\">Финансы\\n\",\r\n      \"                                    &amp;nbsp ·\\n\",\r\n      \"                            </a>\\n\",\r\n      \"<a class=\\\"master-tags__channel js-mp-click-tag-section-item js-channel-tag\\\" data-channel-nick=\\\"Налоги\\\" data-tag-nick=\\\"Финансы\\\" data-tag-type=\\\"channel\\\" href=\\\"/channel/taxes\\\">Налоги</a>\\n\",\r\n      \"</div> <div class=\\\"article__tags-cloud\\\">\\n\",\r\n      \"<a class=\\\"article__tags-cloud__item\\\" href=\\\"https://pro.rbc.ru/tags/?tag=%D0%A1%D1%82%D0%B0%D1%82%D1%8C%D0%B8\\\">Статьи</a>\\n\",\r\n      \"<a class=\\\"article__tags-cloud__item\\\" href=\\\"https://pro.rbc.ru/tags/?tag=%D0%90%D0%BA%D1%82%D0%B8%D0%BE%D0%BD\\\">Актион</a>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__text\\\" itemprop=\\\"articleBody\\\">\\n\",\r\n      \"<div class=\\\"article__text__overview\\\">\\n\",\r\n      \"<span>Что представляет собой единый налоговый счет, чем он удобен, как переводить деньги на него, по каким правилам заполнять уведомление, когда новая система станет обязательной — на вопросы отвечает сервис «Актион Бухгалтерия»</span>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__main-image\\\" itemscope=\\\"\\\" itemtype=\\\"http://schema.org/ImageObject\\\">\\n\",\r\n      \"<div class=\\\"article__main-image__wrap\\\">\\n\",\r\n      \"<img alt=\\\"\\\" class=\\\"g-image article__main-image__image\\\" decoding=\\\"async\\\" height=\\\"730\\\" itemprop=\\\"contentUrl\\\" sizes=\\\"(min-width: 640px) 590px, 100vw\\\" src=\\\"https://s0.rbk.ru/v6_top_pics/media/img/5/83/756649309488835.jpg\\\" srcset=\\\"https://s0.rbk.ru/v6_top_pics/resized/590xH/media/img/5/83/756649309488835.jpg 590w\\\" width=\\\"1180\\\"/>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"article__text__pro\\\">\\n\",\r\n      \"<p>С 1 июля 2022 года платить налоги и взносы можно с помощью единого налогового платежа. Пока это касается только участников эксперимента. С 2023 года альтернативы не будет. Так что участие компаний в эксперименте можно рассматривать как тренировку перед глобальными изменениями. Рассмотрим, как будет выглядеть уплата налогов через единый налоговый платеж.</p>\\n\",\r\n      \"<h2>Что за единый счет и чем он удобен</h2>\\n\",\r\n      \"<p>Новая система предполагает, что каждой компании откроют в Казначействе единый налоговый счет, он же ЕНС. Достаточно будет внести на него деньги, а дальше налоговики сами распорядятся поступлениями. В этом году деньги распределят согласно уведомлениям от компании. А в следующем — даже и уведомления понадобятся не всегда.</p>\\n\",\r\n      \"<p>Контролеры распределят сумму в такой очередности:</p>\\n\",\r\n      \"<ul>\\n\",\r\n      \"<li>недоимки,</li>\\n\",\r\n      \"<li>затем налоги, сборы, взносы, авансы,</li>\\n\",\r\n      \"<li>уже после пени, проценты и штрафы.</li>\\n\",\r\n      \"</ul>\\n\",\r\n      \"<p>Идея в том, чтобы снизить количество ошибок в платежках. Бухгалтеры, бывает, промахиваются в показателях, а затем вынуждены уточнять платежи. В итоге, по статистике налоговиков, они перекидывают платежи 60 млн раз в год.</p>\\n\",\r\n      \"<p>По новым правилам ошибиться сложно. Платеж в любом случае не попадет в невыясненные. Он будет числиться на едином налоговом счете компании. Это должно полностью исключить зависшие платежи и одновременную задолженность по одним налогам и переплату по другим.</p>\\n\",\r\n      \"<h2>Каким способом перечислить деньги на единый счет</h2>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"<div class=\\\"l-col-right\\\">\\n\",\r\n      \"<div class=\\\"l-col-right__inner\\\">\\n\",\r\n      \"<div class=\\\"l-col-100h-parent\\\">\\n\",\r\n      \"<div class=\\\"l-col-100h js-col-100h\\\" id=\\\"js_right_column\\\">\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"</div>\\n\",\r\n      \"finished\\n\"\r\n     ]\r\n    }\r\n   ],\r\n   \"source\": [\r\n    \"#print(soup)\\n\",\r\n    \"def get_soup(url):\\n\",\r\n    \"    r = requests.get(url).text\\n\",\r\n    \"    return BeautifulSoup(r, 'lxml')\\n\",\r\n    \"\\n\",\r\n    \"\\n\",\r\n    \"def save_json(data):\\n\",\r\n    \"    with open('rbk_data_fin.json', \\\"w\\\", encoding=\\\"utf-8\\\") as file:\\n\",\r\n    \"        json.dump(data, file, ensure_ascii=False, indent=4)\\n\",\r\n    \"\\n\",\r\n    \"def main():\\n\",\r\n    \"    news_data = {}\\n\",\r\n    \"\\n\",\r\n    \"    for i in range(2):\\n\",\r\n    \"\\n\",\r\n    \"        link = news_links[i].get('href').split('?')[0]\\n\",\r\n    \"        #print(link)\\n\",\r\n    \"        name = link\\n\",\r\n    \"        news_data[name] = {}\\n\",\r\n    \"        soup = get_soup(link)\\n\",\r\n    \"        #print(soup.text)\\n\",\r\n    \"\\n\",\r\n    \"        # Переходим на страницу для дальнейшенго парсинга\\n\",\r\n    \"        article = soup.find('div', class_='article')\\n\",\r\n    \"        #print(article)\\n\",\r\n    \"\\n\",\r\n    \"        #print(article.find('a'))\\n\",\r\n    \"        #category = article.find('a', class_='article__header__category')\\n\",\r\n    \"        #date = article.find('span', class_='atricle__date-update').get('content').replace('T', ' ').split('+')[0]\\n\",\r\n    \"        try:\\n\",\r\n    \"            date = soup.find('div', class_='atricle__date-update').get_text().strip().split()[1]\\n\",\r\n    \"        except AttributeError:\\n\",\r\n    \"            continue\\n\",\r\n    \"        #print(date)\\n\",\r\n    \"        title = soup.title\\n\",\r\n    \"        #image = article.find('div', class_='article__main-image')\\n\",\r\n    \"        try:\\n\",\r\n    \"            article_paragraphs = article.find_all('p')\\n\",\r\n    \"        except AttributeError:\\n\",\r\n    \"            continue\\n\",\r\n    \"        article_text = ''\\n\",\r\n    \"        for paragraph in article_paragraphs:\\n\",\r\n    \"            article_text += paragraph.text\\n\",\r\n    \"        #print(article_text)\\n\",\r\n    \"\\n\",\r\n    \"        # Заполняем полученными данными news_data\\n\",\r\n    \"        news_data[name]['link'] = link\\n\",\r\n    \"        news_data[name]['date'] = date\\n\",\r\n    \"        news_data[name]['text'] = article_text.replace('\\\\xa0', '').replace('\\\\n', ' ').replace('\\\\r', ' ')\\n\",\r\n    \"\\n\",\r\n    \"        try:\\n\",\r\n    \"            news_data[name]['title'] = title.text\\n\",\r\n    \"        except AttributeError:\\n\",\r\n    \"            news_data[name]['title'] = 'Без заголовка'\\n\",\r\n    \"\\n\",\r\n    \"\\n\",\r\n    \"    save_json(news_data)\\n\",\r\n    \"    print(\\\"finished\\\")\\n\",\r\n    \"\\n\",\r\n    \"\\n\",\r\n    \"if __name__ == \\\"__main__\\\":\\n\",\r\n    \"    main()\"\r\n   ],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": null,\r\n   \"outputs\": [],\r\n   \"source\": [],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  },\r\n  {\r\n   \"cell_type\": \"code\",\r\n   \"execution_count\": null,\r\n   \"outputs\": [],\r\n   \"source\": [],\r\n   \"metadata\": {\r\n    \"collapsed\": false\r\n   }\r\n  }\r\n ],\r\n \"metadata\": {\r\n  \"kernelspec\": {\r\n   \"display_name\": \"Python 3\",\r\n   \"language\": \"python\",\r\n   \"name\": \"python3\"\r\n  },\r\n  \"language_info\": {\r\n   \"codemirror_mode\": {\r\n    \"name\": \"ipython\",\r\n    \"version\": 2\r\n   },\r\n   \"file_extension\": \".py\",\r\n   \"mimetype\": \"text/x-python\",\r\n   \"name\": \"python\",\r\n   \"nbconvert_exporter\": \"python\",\r\n   \"pygments_lexer\": \"ipython2\",\r\n   \"version\": \"2.7.6\"\r\n  }\r\n },\r\n \"nbformat\": 4,\r\n \"nbformat_minor\": 0\r\n}\r\n
===================================================================
diff --git a/parce_pro.ipynb b/parce_pro.ipynb
--- a/parce_pro.ipynb	
+++ b/parce_pro.ipynb	
@@ -4,7 +4,10 @@
    "cell_type": "code",
    "execution_count": 2,
    "metadata": {
-    "collapsed": true
+    "collapsed": true,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    },
    "outputs": [],
    "source": [
@@ -68,7 +71,10 @@
     "    driver.quit()\n"
    ],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   },
   {
@@ -79,7 +85,10 @@
     "news_links = soup.find_all('a', {'class' : ['item__link', ]})"
    ],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   },
   {
@@ -317,7 +326,10 @@
     "    main()"
    ],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   },
   {
@@ -326,7 +338,10 @@
    "outputs": [],
    "source": [],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   },
   {
@@ -335,7 +350,10 @@
    "outputs": [],
    "source": [],
    "metadata": {
-    "collapsed": false
+    "collapsed": false,
+    "pycharm": {
+     "name": "#%%\n"
+    }
    }
   }
  ],
@@ -360,4 +378,4 @@
  },
  "nbformat": 4,
  "nbformat_minor": 0
-}
+}
\ No newline at end of file
